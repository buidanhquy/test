CREATE TABLE sip_buddies(
ID INTEGER PRIMARY KEY AUTOINCREMENT,
name varchar(80) ,
callerid varchar(80) default NULL,
defaultuser varchar(80) ,
regexten varchar(80) ,
secret varchar(80) default NULL,
mailbox varchar(50) default NULL,
accountcode varchar(20) default NULL,
context varchar(80) default NULL,
amaflags varchar(7) default NULL,
callgroup varchar(10) default NULL,
canreinvite char(3) default 'yes',
defaultip varchar(15) default NULL,
dtmfmode varchar(7) default NULL,
fromuser varchar(80) default NULL,
fromdomain varchar(80) default NULL,
fullcontact varchar(80) default NULL,
host varchar(31) ,
insecure varchar(4) default NULL,
language char(2) default NULL,
md5secret varchar(80) default NULL,
nat varchar(5)  default 'no',
deny varchar(95) default NULL,
permit varchar(95) default NULL,
mask varchar(95) default NULL,
pickupgroup varchar(10) default NULL,
port varchar(5) ,
qualify char(3) default NULL,
restrictcid char(1) default NULL,
rtptimeout char(3) default NULL,
rtpholdtimeout char(3) default NULL,
type varchar(6)  default 'friend',
disallow varchar(100) default 'all',
allow varchar(100) default 'g729;ilbc;gsm;ulaw;alaw',
musiconhold varchar(100) default NULL,
regseconds int(11)  default '0',
ipaddr varchar(45) ,
cancallforward char(3) default 'yes',
lastms int(11) ,
useragent char(255) default NULL,
regserver varchar(100) default NULL,
)


CREATE TABLE sip_buddies(ID INTEGER PRIMARY KEY AUTOINCREMENT,name varchar(80) ,callerid varchar(80) default NULL,defaultuser varchar(80) ,regexten varchar(80) ,secret varchar(80) default NULL,mailbox varchar(50) default NULL,accountcode varchar(20) default NULL,context varchar(80) default NULL,amaflags varchar(7) default NULL,callgroup varchar(10) default NULL,canreinvite char(3) default 'yes',defaultip varchar(15) default NULL,dtmfmode varchar(7) default NULL,fromuser varchar(80) default NULL,fromdomain varchar(80) default NULL,fullcontact varchar(80) default NULL,host varchar(31) ,insecure varchar(4) default NULL,language char(2) default NULL,md5secret varchar(80) default NULL,nat varchar(5)  default 'no',deny varchar(95) default NULL,permit varchar(95) default NULL,mask varchar(95) default NULL,pickupgroup varchar(10) default NULL,port varchar(5) ,qualify char(3) default NULL,restrictcid char(1) default NULL,rtptimeout char(3) default NULL,rtpholdtimeout char(3) default NULL,type varchar(6)  default 'friend',disallow varchar(100) default 'all',allow varchar(100) default 'g729;ilbc;gsm;ulaw;alaw',musiconhold varchar(100) default NULL,regseconds int(11)  default '0',ipaddr varchar(45) ,cancallforward char(3) default 'yes',lastms int(11) ,useragent char(255) default NULL,regserver varchar(100) default NULL);

CREATE TABLE sip_buddies(useragent char(255) default NULL,regserver varchar(100) default NULL);

INSERT INTO sip_buddies (NAME, defaultuser, secret, context, HOST, nat, qualify, TYPE) VALUES ('1000', '1000', '1234', 'from-sip', 'dynamic', 'yes', 'no', 'friend');

CREATE TABLE sip_buddies(
type varchar(6) default 'friend',
name varchar(80) ,
secret varchar(80) default NULL,
context varchar(80) default NULL,
host varchar(31) ,
ipaddr varchar(45) ,
port varchar(5) ,
regseconds BIGINT default '0',
defaultuser varchar(80) ,
fullcontact varchar(80) default NULL,
regserver varchar(100) default NULL,
useragent char(255) default NULL,
lastms int
)


CREATE TABLE sip_buddies(type varchar(6) default 'friend',name varchar(80) ,secret varchar(80) default NULL,context varchar(80) default NULL,host varchar(31) ,ipaddr varchar(45) ,port varchar(5) ,regseconds BIGINT default '0',defaultuser varchar(80) ,fullcontact varchar(80) default NULL,regserver varchar(100) default NULL,useragent char(255) default NULL,lastms int);

INSERT INTO sip_buddies (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy', 'buiquy', 'dynamic', '1234', 'my-context'); 
 

CREATE TABLE ast_sipfriends(type varchar(6) default 'friend',name varchar(80) ,secret varchar(80) default NULL,context varchar(80) default NULL,host varchar(31) ,ipaddr varchar(45) ,port varchar(5) ,regseconds BIGINT default '0',defaultuser varchar(80) ,fullcontact varchar(80) default NULL,regserver varchar(100) default NULL,useragent char(255) default NULL,lastms int, qualify char(3) default yes, canreinvite char(3) default 'no');


INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy', 'buiquy', 'dynamic', '1234', 'my-context'); 

INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy', 'buiquy', 'dynamic', '1234', 'internal'); 

INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy1', 'buiquy1', 'dynamic', '1234', 'internal'); 

INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy2', 'buiquy2', 'dynamic', '1234', 'internal'); 

INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy3', 'buiquy3', 'dynamic', '1234', 'internal'); 

INSERT INTO ast_sipfriends (type, name, defaultuser, host, secret, context) values ('friend', 'buiquy4', 'buiquy4', 'dynamic', '1234', 'internal'); 
?action=list_account

?action=add_account&id=buiquy1&password=1235

?action=remove_account&id=buiquy1

?action=add_account&id=buiquy4&password=1234

?action=add_account&id=buiquy4&password=1235


?action=add_account&id=buiquy&password=1234
?action=add_account&id=buiquy1&password=1234
?action=add_account&id=buiquy2&password=1234
?action=add_account&id=buiquy3&password=1234
?action=add_account&id=buiquy4&password=1234

?action=add_permission&acc_id=116&node_id=RIUC11
?action=remove_permission&acc_id=116&node_id=RIUC11
?action=add_permission&acc_id=116&node_id=RIUC12
?action=add_permission&acc_id=117&node_id=RIUC11
?action=remove_permission&acc_id=117&node_id=RIUC11
